# Heroku Python Training Wheels

This project is  place to learn about web programs and Python and how to integrate the two. 

## Requirements
* [Python 3](https://www.python.org/)
* [Node JS](https://nodejs.org/)
* [Git](https://git-scm.com/)
* [PyCharm Community](https://www.jetbrains.com/pycharm/)

## Application Structure

### Components
1. Python - This is a Python based project built on [Flask](https://flask.palletsprojects.com). Flask is a simple library for creating lightweight web API's. The application can create routes which map to Python functions. When the specific route is called it executes and returns a result to the browser.
2. Node JS - The Front-end of the project executes in a browser and is using a framework called [Aurelia](https://aurelia.io/). Aurelia is a fork of Angular and shares many of the same properties and structures. Aurelia attempts to streamline the syntax and make it easier to code. It also supports Typescript which is being used on this project for all Aurelia source code. 

### Project Layout
* Python Folders
  * app: The main Python backend application files.
  * Lib: Stores the pip installed Python dependencies for the project virtual environment. This wil not be included at first and will be added and populated once the setup is completed.
  * Scripts: Stores the virtual environment .exe's and scripts for activating it. 
* Aurelia Folders
  * config: Configuration for the aurelia build process using [Webpack](https://webpack.js.org/).
  * dist: The fully built and ready to run output for the Aurelia project. This will only exist after building the Aurelia part of the project for the first time. 
  * node_modules: This contains the dependencies for the Aurelia portion of the project. This wil not exist until you complete the setup for Aurelia.
  * src: This contains the main source code files for the Aurelia portion of the project.
  * static: This is a place to store static assets that will get copied to the output during the first build of the Aurelia project. If you add things to this folder make sure to stop and restart the Aurelia dev server in the terminal window. That way is makes sure the assets get copied to the dist folder and are available to be picked up by the browser.

## Setup Python
1. Install all of the required software
2. Clone down project from Github
3. Open the root folder of the project into PyCharm
4. Configure interpreter for the project by going to File > Settings > Project > Project Interpreter
5. If not already configured drop down the top menu and select Show All
6. Click the plus
7. Configure a Virtual Environment
8. Select existing and choose to use python.exe under the Scripts folder of the project
9. Click Ok and Ok again to return to the Project Interpreter settings
10. If not already selected select your new project interpreter
11. Click apply and ok to leave the settings
12. Open any .py file in the solution 
13. A message at the top of the file should appear asking if you would like to install missing dependencies
14. Select install

## Setup Aurelia 
1. Complete the Python Setup first
2. Open the Terminal window in Py Charm (This should be along the bottom of the editor by default)
3. Run the following command
``` CMD
npm install
```
4. Allow this to complete

## Running the project locally
1. In the terminal window run the following command to build start the dev server for Aurelia. This allows the project to rebuild as you make changes to the associated .ts files in the src folder.
```cmd
npm run startDevServer
```
2. This should say `Compiled Successfully` when completed. If not check the error messages in the window for where there may be problems in the code.
3. Click the run button in PyCharm to execute the Python code.
4. If built successfully this will provide you will a URL in the running window. 
5. Click this URL to launch in your default browser for debugging.
6. To stop running or debugging the Python portion of the application press the stop button.
7. To stop running the dev server for the Aurelia portion of the application go to the Terminal window and pres `Ctrl + c`. The prompt will ask to kill the process and reply with `y` to stop the dev server.

## Debugging
This will explain the different places to find different kinds of debug messages for the project if things are not working as expected.

1. Aurelia
    1. Build Errors: These will appear in the Terminal window. As the project rebuilds it will give you an updated list of build errors or will say compiled successfully. 
    2. Runtime Errors: These will appear in the development tools in the browser. Press F12 or right click and choose inspect anywhere on the page to bring up the tools. Go to the console tab to see errors, warnings, or information messages generated by Aurelia.
    3. Debugging: This will be done in the browser. I recommend using Chrome for this. Open the development tools and go to the Sources Tab. In the left-hand window navigate to `webpack://` (If this does not exist right-click the refresh button and select Empty Cache and Hard Reload). Then select the . and continue navigating the files the same way they are arranged in the src folder. You can set breakpoints and inspect values just like in PyCharm. Once set perform the correct action to trigger the code you want to break on and debug as normal.
2. Python
    1. Build Errors:  These will appear in the run or debug window when first trying to execute the program.
    2. Runtime Errors: These will appear in the same window as build errors as the code is executed.
    3. Debugging: Python debugging in PyCharm works as it normally does. 
